<page-wrapper page-title="{{ ::$ctrl.title }}" ng-if="$ctrl.loaded">
    <form class="form" name="hostForm" novalidate ng-submit="$ctrl.save(hostForm.$valid)">
        <div class="form-group">
            <label for="$ctrl.host.Name">Name</label>
            <input type="text" class="form-control" name="Name" placeholder="server.domain" required id="$ctrl.host.Name" ng-model="$ctrl.host.Name">
            <label>
                <input type="checkbox" ng-model="$ctrl.useNameAsAddress"/>
                Connect using this hostname
            </label>
        </div>
        <div class="form-group" ng-if="!$ctrl.useNameAsAddress">
            <label for="$ctrl.host.Address">Address</label>
            <input type="text" class="form-control" name="Address" placeholder="192.168.1.1" required id="$ctrl.host.Address" ng-model="$ctrl.host.Address">
        </div>
        <div class="form-group">
            <label for="$ctrl.host.Port">Port</label>
            <input type="text" inputmode="numeric" pattern="[0-9]*" class="form-control" name="Port" placeholder="12444" required id="$ctrl.host.Port" ng-model="$ctrl.host.Port">
        </div>
        <div class="form-group">
            <label for="$ctrl.host.PSK">Pre-Shared Key</label>
            <input type="password" class="form-control" name="PSK" required id="$ctrl.host.PSK" ng-model="$ctrl.host.PSK">
        </div>
        <div class="form-group form-check" ng-if="!$ctrl.isNew">
            <checkbox label="Enabled" model="$ctrl.host.Enabled"></checkbox>
        </div>
        <hr/>
        <div class="form-group">
            <label>Environmentment Variables</label>
            <environment-edit environment="::$ctrl.host.Environment"></environment-edit>
        </div>
        <hr/>
        <div class="form-group">
            <label>Groups</label>
            <group-picker model="$ctrl.host.GroupIDs"></group-picker>
        </div>
        <wait-button title="Save" loading="$ctrl.loading" click="$ctrl.save(hostForm.$valid)"></wait-button>
    </form>
</page-wrapper>